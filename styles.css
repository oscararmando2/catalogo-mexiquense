/* Base styles for the Mexiquense catalog application */
body { 
    font-family: 'Poppins', sans-serif; 
    background-color: #f8fafc; 
}

.card-hover:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 10px 20px rgba(0,0,0,0.1); 
}

.custom-scrollbar::-webkit-scrollbar { 
    width: 6px; 
    height: 6px; 
}

.custom-scrollbar::-webkit-scrollbar-track { 
    background: #f1f1f1; 
}

.custom-scrollbar::-webkit-scrollbar-thumb { 
    background: #c7d2fe; 
    border-radius: 3px; 
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover { 
    background: #a5b4fc; 
}

.error-message { 
    color: #dc2626; 
    font-size: 0.875rem; 
    margin-top: 0.25rem; 
}

.loader { 
    border: 4px solid #f3f3f3; 
    border-top: 4px solid #4f46e5; 
    border-radius: 50%; 
    width: 24px; 
    height: 24px; 
    animation: spin 1s linear infinite; 
    margin: 0 auto; 
}

@keyframes spin { 
    0% { transform: rotate(0deg);} 
    100% { transform: rotate(360deg);} 
}

.product-image-container { 
    position: relative; 
    width: 100%; 
    padding-top: 100%; 
}

.product-image { 
    position: absolute; 
    top:0; 
    left:0; 
    width:100%; 
    height:100%; 
    object-fit: contain; 
    border-radius:8px; 
    background:#f9f9f9; 
}

/* Multi-selection (admin) */
.selected-card { 
    outline: 2px solid rgb(59 130 246); 
    background: rgb(239 246 255); 
}

/* Mexican colors */
.bg-mexican-green { 
    background-color: #006847; 
}

.bg-mexican-red { 
    background-color: #CE1126; 
}

.border-mexican-green { 
    border-color: #006847; 
}

.border-mexican-red { 
    border-color: #CE1126; 
}

.text-mexican-green { 
    color: #006847; 
}

.text-mexican-red { 
    color: #CE1126; 
}

/* Credit urgency borders */
.credit-ok { 
    border-left: 4px solid #86efac; 
}

.credit-warning { 
    border-left: 4px solid #fde047; 
}

.credit-urgent { 
    border-left: 4px solid #ef4444; 
}

/* Hamburger menu - always visible */
.hamburger-menu { 
    display: block; 
}

/* Hide desktop menu completely */
.desktop-menu { 
    display: none !important; 
}

/* Mobile menu styles */
#mobileMenu { 
    display: none; 
}

#mobileMenu.mobile-menu-open { 
    display: flex; 
    flex-direction: column; 
}

/* Photo preview */
.photo-preview { 
    max-width: 100px; 
    max-height: 100px; 
    object-fit: cover; 
    border-radius: 8px; 
}

.photo-thumbnail { 
    width: 60px; 
    height: 60px; 
    object-fit: cover; 
    border-radius: 8px; 
    cursor: pointer; 
}

/* Especiales section styles */
.especiales-card { 
    background: white; 
    border-radius: 12px; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
    padding: 1.5rem; 
    transition: all 0.3s ease; 
}

.especiales-card:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 8px 16px rgba(0,0,0,0.15); 
}

.price-indicator { 
    width: 16px; 
    height: 16px; 
    border-radius: 50%; 
    background-color: #ef4444; 
    display: inline-block; 
    margin-left: 8px; 
    animation: pulse 2s infinite; 
}

@keyframes pulse { 
    0%, 100% { opacity: 1; } 
    50% { opacity: 0.5; } 
}

/* ============================================
   ZEBRA MC330M OPTIMIZATIONS - FTSRETAIL INSPIRED DESIGN
   Device: Zebra MC330M (4 inch screen)
   Portrait: 480x800px (5:3 aspect ratio)
   Landscape: 800x480px
   
   Design inspired by FTSRetail StoreApp:
   - Fixed viewport width of 225px for 480px devices
   - Centered layout with max-width: 225px
   - Small fonts (9px for text, 6px for buttons)
   - Full-width inputs with minimal borders and padding
   - Rounded borders (4px border-radius)
   - Minimal spacing
   ============================================ */

/* Portrait mode - 480px width (primary orientation) - MC330M ONLY */
@media screen and (max-width: 480px) {
    /* Ensure proper box sizing for all elements */
    * {
        box-sizing: border-box;
    }
    
    /* Body optimized for MC330M 4-inch screen */
    body {
        font-size: 9px; /* Small font inspired by FTSRetail */
        line-height: 1.3;
        -webkit-text-size-adjust: none; /* Prevent text inflation */
    }
    
    /* ==================================================
       SECTION: Registrar Nuevo Crédito - MC330M SPECIFIC
       Inspired by FTSRetail StoreApp design
       ================================================== */
    
    /* Main container - centered layout with max-width 225px */
    #creditosRegister {
        display: flex !important;
        justify-content: center !important;
        padding: 2px !important; /* Minimal padding */
        width: 100% !important;
    }
    
    /* Inner card - centered with max-width 225px like FTSRetail */
    #creditosRegister .bg-white {
        max-width: 225px !important; /* FTSRetail inspired width */
        width: 100% !important;
        padding: 3px !important; /* Minimal padding (2-3px) */
        margin: 0 auto !important;
        box-sizing: border-box !important;
    }
    
    /* Heading - small font size */
    #creditosRegister h2 {
        font-size: 9px !important; /* Small text like FTSRetail */
        font-weight: 600 !important;
        margin-bottom: 3px !important;
        text-align: center !important;
    }
    
    /* Form container */
    #creditosRegister form {
        width: 100% !important;
    }
    
    /* Product fields container - vertical layout */
    #productsFieldsContainer {
        display: flex !important;
        flex-direction: column !important;
        gap: 3px !important; /* Minimal gap */
        width: 100% !important;
    }
    
    #productsFieldsContainer label {
        display: block !important;
        width: 100% !important;
    }
    
    /* Product field cards - minimal styling */
    .product-field {
        padding: 3px !important; /* Minimal padding (2-3px) */
        margin-bottom: 3px !important;
        border: 0.1px solid #d1d5db !important; /* Very thin border */
        border-radius: 4px !important; /* Rounded borders */
        width: 100% !important;
        box-sizing: border-box !important;
    }
    
    .product-field h4 {
        font-size: 9px !important; /* Small text */
        font-weight: 600 !important;
        margin-bottom: 2px !important;
    }
    
    /* Labels - small font size */
    #creditosRegister label,
    .product-field label {
        font-size: 9px !important; /* Small text like FTSRetail */
        font-weight: 500 !important;
        margin-bottom: 2px !important;
        display: block !important;
    }
    
    /* Input fields - full width with minimal styling */
    #creditosRegister input[type="text"],
    #creditosRegister input[type="number"],
    #creditosRegister input[type="date"],
    #creditosRegister input[type="file"],
    #creditosRegister textarea,
    #creditosRegister select,
    .product-qty,
    .product-upc,
    .product-desc,
    .product-photo {
        width: 100% !important; /* Full width */
        font-size: 9px !important; /* Small text */
        padding: 2px 3px !important; /* Minimal padding (2-3px) */
        min-height: 44px !important; /* Maintain touch target size */
        border: 0.1px solid #d1d5db !important; /* Very thin border */
        border-radius: 4px !important; /* Rounded borders */
        box-sizing: border-box !important;
        -webkit-appearance: none !important;
        display: block !important;
    }
    
    /* Textarea - slightly taller */
    #creditosRegister textarea {
        min-height: 60px !important;
        resize: vertical !important;
    }
    
    /* Buttons - full width with small font */
    #creditosRegister button,
    #addProductField,
    .remove-product-field {
        width: 100% !important; /* Full width */
        font-size: 6px !important; /* Very small font for buttons like FTSRetail */
        font-weight: 600 !important;
        padding: 2px 3px !important; /* Minimal padding */
        min-height: 44px !important; /* Maintain touch target */
        border-radius: 4px !important; /* Rounded borders */
        box-sizing: border-box !important;
        margin-top: 3px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-transform: uppercase !important;
        letter-spacing: 0.3px !important;
    }
    
    /* Scan button - inline but still touch-friendly */
    .scan-upc-btn {
        width: auto !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 2px 4px !important;
        min-height: 36px !important;
        font-size: 6px !important;
        margin-left: 3px !important;
    }
    
    .scan-upc-btn svg {
        width: 12px !important;
        height: 12px !important;
        margin-right: 2px !important;
    }
    
    /* Form actions (Cancel/Submit) - row layout */
    #creditosRegister .flex.gap-4 {
        display: flex !important;
        gap: 3px !important;
        margin-top: 3px !important;
        width: 100% !important;
    }
    
    #creditosRegister .flex.gap-4 button {
        flex: 1 !important;
        width: auto !important;
    }
    
    /* Helper text - very small */
    #creditosRegister .text-xs,
    #creditosRegister .text-sm,
    #creditosRegister p {
        font-size: 6px !important; /* Very small helper text */
        line-height: 1.2 !important;
        margin-top: 1px !important;
    }
    
    /* Photo preview - compact */
    .product-photo-preview img {
        max-width: 60px !important;
        max-height: 60px !important;
        border-radius: 4px !important;
    }
    
    /* Spacing adjustments - minimal */
    #creditosRegister .space-y-6 > * + *,
    #creditosRegister .space-y-4 > * + *,
    #creditosRegister form > div {
        margin-top: 3px !important;
    }
    
    /* Container padding - minimal */
    #creditosView .container {
        padding-left: 2px !important;
        padding-right: 2px !important;
    }
    
    /* Prevent horizontal scroll */
    #creditosView,
    #creditosRegister,
    #creditosRegister * {
        max-width: 100% !important;
        overflow-x: hidden !important;
    }
    
    /* Header optimizations for MC330M */
    header {
        padding-top: 3px !important;
        padding-bottom: 3px !important;
    }
    
    header h1 {
        font-size: 10px !important;
    }
    
    header .h-10 {
        height: 1.5rem !important;
        width: 1.5rem !important;
    }
    
    /* Mobile menu button */
    #mobileMenuBtn {
        padding: 3px !important;
        min-height: 44px !important;
    }
    
    /* Focus states - maintain visibility */
    #creditosRegister input:focus,
    #creditosRegister textarea:focus,
    #creditosRegister select:focus,
    #creditosRegister button:focus {
        outline: 2px solid #006847 !important;
        outline-offset: 1px !important;
        border-color: #006847 !important;
    }
}

/* Landscape mode - 800px width (secondary orientation) - MC330M ONLY */
@media screen and (max-width: 800px) and (orientation: landscape) {
    /* Body - small font for landscape */
    body {
        font-size: 9px;
    }
    
    /* Optimize for landscape - centered layout maintained */
    #creditosRegister {
        padding: 2px !important;
    }
    
    #creditosRegister .bg-white {
        max-width: 225px !important; /* Keep FTSRetail width */
        padding: 3px !important;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    /* Two-column layout for some fields in landscape to save space */
    #creditosRegister .space-y-6 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3px;
        margin-top: 0 !important;
    }
    
    /* Some fields should span full width even in landscape */
    #productsFieldsContainer,
    #creditosRegister textarea,
    #creditosRegister .flex.gap-4 {
        grid-column: 1 / -1;
    }
    
    /* Maintain small fonts in landscape */
    #creditosRegister h2 {
        font-size: 9px !important;
    }
    
    #creditosRegister label {
        font-size: 9px !important;
    }
    
    #creditosRegister input,
    #creditosRegister textarea,
    #creditosRegister select {
        font-size: 9px !important;
    }
    
    #creditosRegister button {
        font-size: 6px !important;
    }
}

/* Additional optimizations for devices between 400-480px */
@media screen and (min-width: 401px) and (max-width: 480px) {
    /* Slightly larger fonts for devices in this range */
    body {
        font-size: 9px;
    }
    
    #creditosRegister input,
    #creditosRegister textarea,
    #creditosRegister button {
        font-size: 9px !important;
    }
    
    #creditosRegister label {
        font-size: 9px !important;
    }
}

/* Focus states for better visibility on MC330M - OUTSIDE media query */
/* Applied globally but optimized for touch devices */
@media screen and (max-width: 480px) {
    input:focus,
    textarea:focus,
    select:focus {
        outline: 2px solid #006847 !important;
        outline-offset: 1px !important;
        border-color: #006847 !important;
    }
    
    button:focus {
        outline: 2px solid #006847 !important;
        outline-offset: 1px !important;
    }
}

/* ============================================
   PRESERVE ORIGINAL DESIGN FOR MOBILE (720px+) AND DESKTOP
   These rules ensure that devices with screens 720px or larger
   maintain the original, non-optimized design
   ============================================ */

@media screen and (min-width: 720px) {
    /* Reset any MC330M-specific styles for larger devices */
    body {
        font-size: inherit; /* Use default Tailwind/browser sizes */
    }
    
    /* Registrar Nuevo Crédito section - normal layout for larger screens */
    #creditosRegister {
        padding: inherit !important;
        justify-content: initial !important;
    }
    
    #creditosRegister .bg-white {
        max-width: none !important; /* No width restriction */
        padding: 1.5rem !important; /* Normal padding */
    }
    
    #creditosRegister h2 {
        font-size: 1.5rem !important; /* Normal heading size */
    }
    
    #creditosRegister label {
        font-size: 0.875rem !important; /* Normal label size */
    }
    
    #creditosRegister input,
    #creditosRegister textarea,
    #creditosRegister select,
    #creditosRegister button {
        font-size: 1rem !important; /* Normal input/button size */
        padding: 0.5rem 1rem !important; /* Normal padding */
    }
    
    /* Normal spacing for larger devices */
    .product-field {
        padding: 1rem !important;
        margin-bottom: 1rem !important;
    }
}
