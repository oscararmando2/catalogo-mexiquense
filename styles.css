/* Base styles for the Mexiquense catalog application */
body { 
    font-family: 'Poppins', sans-serif; 
    background-color: #f8fafc; 
}

.card-hover:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 10px 20px rgba(0,0,0,0.1); 
}

.custom-scrollbar::-webkit-scrollbar { 
    width: 6px; 
    height: 6px; 
}

.custom-scrollbar::-webkit-scrollbar-track { 
    background: #f1f1f1; 
}

.custom-scrollbar::-webkit-scrollbar-thumb { 
    background: #c7d2fe; 
    border-radius: 3px; 
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover { 
    background: #a5b4fc; 
}

.error-message { 
    color: #dc2626; 
    font-size: 0.875rem; 
    margin-top: 0.25rem; 
}

.loader { 
    border: 4px solid #f3f3f3; 
    border-top: 4px solid #4f46e5; 
    border-radius: 50%; 
    width: 24px; 
    height: 24px; 
    animation: spin 1s linear infinite; 
    margin: 0 auto; 
}

@keyframes spin { 
    0% { transform: rotate(0deg);} 
    100% { transform: rotate(360deg);} 
}

.product-image-container { 
    position: relative; 
    width: 100%; 
    padding-top: 100%; 
}

.product-image { 
    position: absolute; 
    top:0; 
    left:0; 
    width:100%; 
    height:100%; 
    object-fit: contain; 
    border-radius:8px; 
    background:#f9f9f9; 
}

/* Multi-selection (admin) */
.selected-card { 
    outline: 2px solid rgb(59 130 246); 
    background: rgb(239 246 255); 
}

/* Mexican colors */
.bg-mexican-green { 
    background-color: #006847; 
}

.bg-mexican-red { 
    background-color: #CE1126; 
}

.border-mexican-green { 
    border-color: #006847; 
}

.border-mexican-red { 
    border-color: #CE1126; 
}

.text-mexican-green { 
    color: #006847; 
}

.text-mexican-red { 
    color: #CE1126; 
}

/* Credit urgency borders */
.credit-ok { 
    border-left: 4px solid #86efac; 
}

.credit-warning { 
    border-left: 4px solid #fde047; 
}

.credit-urgent { 
    border-left: 4px solid #ef4444; 
}

/* Hamburger menu - always visible */
.hamburger-menu { 
    display: block; 
}

/* Hide desktop menu completely */
.desktop-menu { 
    display: none !important; 
}

/* Mobile menu styles */
#mobileMenu { 
    display: none; 
}

#mobileMenu.mobile-menu-open { 
    display: flex; 
    flex-direction: column; 
}

/* Photo preview */
.photo-preview { 
    max-width: 100px; 
    max-height: 100px; 
    object-fit: cover; 
    border-radius: 8px; 
}

.photo-thumbnail { 
    width: 60px; 
    height: 60px; 
    object-fit: cover; 
    border-radius: 8px; 
    cursor: pointer; 
}

/* Especiales section styles */
.especiales-card { 
    background: white; 
    border-radius: 12px; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
    padding: 1.5rem; 
    transition: all 0.3s ease; 
}

.especiales-card:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 8px 16px rgba(0,0,0,0.15); 
}

.price-indicator { 
    width: 16px; 
    height: 16px; 
    border-radius: 50%; 
    background-color: #ef4444; 
    display: inline-block; 
    margin-left: 8px; 
    animation: pulse 2s infinite; 
}

@keyframes pulse { 
    0%, 100% { opacity: 1; } 
    50% { opacity: 0.5; } 
}

/* ============================================
   ZEBRA MC330M OPTIMIZATIONS
   Device: Zebra MC330M (4 inch screen)
   Portrait: 480x800px (5:3 aspect ratio)
   Landscape: 800x480px
   ============================================ */

/* Portrait mode - 480px width (primary orientation) */
@media screen and (max-width: 480px) {
    /* Ensure proper box sizing for all elements */
    * {
        box-sizing: border-box;
    }
    
    /* Optimize body for touch */
    body {
        font-size: 14px;
        line-height: 1.4;
        -webkit-text-size-adjust: none; /* Prevent text inflation */
    }
    
    /* Optimize "Registrar Nuevo CrÃ©dito" section for MC330M */
    #creditosRegister {
        padding: 0.75rem !important;
    }
    
    #creditosRegister .bg-white {
        padding: 1rem !important;
        margin: 0 !important;
    }
    
    #creditosRegister h2 {
        font-size: 1.25rem !important;
        margin-bottom: 1rem !important;
    }
    
    /* Product fields container - use flexbox for better layout */
    #productsFieldsContainer {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .product-field {
        padding: 0.75rem !important;
        margin-bottom: 0.75rem !important;
        border: 1px solid #d1d5db !important;
    }
    
    .product-field h4 {
        font-size: 1rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    /* Input fields optimized for touch and MC330M screen */
    #creditosRegister input[type="text"],
    #creditosRegister input[type="number"],
    #creditosRegister input[type="date"],
    #creditosRegister textarea,
    #creditosRegister select,
    .product-qty,
    .product-upc,
    .product-desc {
        width: 100% !important;
        font-size: 14px !important; /* Readable on 4-inch screen */
        padding: 0.625rem !important; /* 10px - touch-friendly */
        min-height: 44px !important; /* Apple's minimum touch target */
        border: 1px solid #d1d5db !important;
        border-radius: 0.375rem !important;
        box-sizing: border-box !important;
        -webkit-appearance: none; /* Remove default styling */
    }
    
    /* Labels optimized for readability */
    #creditosRegister label {
        font-size: 13px !important;
        font-weight: 500 !important;
        margin-bottom: 0.375rem !important;
        display: block;
    }
    
    /* Buttons optimized for touch */
    #creditosRegister button,
    .scan-upc-btn,
    #addProductField,
    .remove-product-field {
        min-height: 44px !important; /* Touch-friendly size */
        padding: 0.625rem 1rem !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        border-radius: 0.375rem !important;
        width: 100% !important;
        box-sizing: border-box !important;
        margin-top: 0.5rem !important;
    }
    
    /* Inline buttons (like scan button) should not be full width */
    .scan-upc-btn {
        width: auto !important;
        display: inline-flex !important;
        align-items: center !important;
        padding: 0.5rem 0.75rem !important;
        min-height: 36px !important;
    }
    
    /* Form actions (Cancel/Submit buttons) in a row */
    #creditosRegister .flex.gap-4 {
        display: flex !important;
        gap: 0.5rem !important;
        margin-top: 1rem !important;
    }
    
    #creditosRegister .flex.gap-4 button {
        flex: 1 !important;
        width: auto !important;
    }
    
    /* Textarea specific */
    #creditosRegister textarea {
        min-height: 80px !important;
        resize: vertical;
    }
    
    /* Helper text */
    #creditosRegister .text-xs,
    #creditosRegister .text-sm {
        font-size: 12px !important;
        line-height: 1.3 !important;
    }
    
    /* Photo preview */
    .product-photo-preview img {
        max-width: 80px !important;
        max-height: 80px !important;
    }
    
    /* Reduce spacing between form elements */
    #creditosRegister .space-y-6 > * + * {
        margin-top: 0.75rem !important;
    }
    
    #creditosRegister .space-y-4 > * + * {
        margin-top: 0.5rem !important;
    }
    
    /* Container padding adjustments */
    #creditosView .container {
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
    }
    
    /* Header optimizations for MC330M */
    header {
        padding-top: 0.75rem !important;
        padding-bottom: 0.75rem !important;
    }
    
    header h1 {
        font-size: 1.25rem !important;
    }
    
    header .h-10 {
        height: 2rem !important;
        width: 2rem !important;
    }
    
    /* Mobile menu button */
    #mobileMenuBtn {
        padding: 0.5rem !important;
        min-height: 44px !important;
    }
}

/* Landscape mode - 800px width (secondary orientation) */
@media screen and (max-width: 800px) and (orientation: landscape) {
    /* Optimize for landscape when needed */
    #creditosRegister {
        padding: 0.5rem !important;
    }
    
    #creditosRegister .bg-white {
        padding: 0.75rem !important;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    /* Two-column layout for larger fields in landscape */
    #creditosRegister .space-y-6 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem;
        margin-top: 0 !important;
    }
    
    /* Some fields should span full width even in landscape */
    #productsFieldsContainer,
    #creditosRegister textarea,
    #creditosRegister .flex.gap-4 {
        grid-column: 1 / -1;
    }
    
    /* Adjust font sizes for landscape */
    body {
        font-size: 13px;
    }
    
    #creditosRegister h2 {
        font-size: 1.125rem !important;
    }
}

/* Additional optimizations for very small screens */
@media screen and (max-width: 400px) {
    body {
        font-size: 13px;
    }
    
    #creditosRegister input,
    #creditosRegister textarea,
    #creditosRegister button {
        font-size: 13px !important;
    }
    
    #creditosRegister label {
        font-size: 12px !important;
    }
}

/* Focus states for better visibility on MC330M */
@media screen and (max-width: 480px) {
    input:focus,
    textarea:focus,
    select:focus {
        outline: 2px solid #006847 !important;
        outline-offset: 2px !important;
        border-color: #006847 !important;
    }
    
    button:focus {
        outline: 2px solid #006847 !important;
        outline-offset: 2px !important;
    }
}

/* Prevent zoom on input focus (important for barcode scanner) */
@media screen and (max-width: 480px) {
    input[type="text"],
    input[type="number"],
    input[type="date"],
    textarea,
    select {
        font-size: 16px !important; /* iOS won't zoom if >= 16px */
    }
}
